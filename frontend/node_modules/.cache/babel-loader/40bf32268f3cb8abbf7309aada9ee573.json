{"ast":null,"code":"import _regeneratorRuntime from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\src\\\\ProductScreen.js\";\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useEffect, useReducer } from 'react';\nimport axios from 'axios';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case 'FETCH_SUCCESS':\n      return _objectSpread({}, state, {\n        product: action.payload,\n        loading: false\n      });\n\n    case 'FETCH_FAIL':\n      return _objectSpread({}, state, {\n        loading: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nfunction ProductScreen() {\n  //var and funcs\n  var params = useParams();\n  var slug = params.slug;\n\n  var _useReducer = useReducer(reducer, {\n    product: [],\n    loading: true,\n    error: ''\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      loading = _useReducer2$.loading,\n      error = _useReducer2$.error,\n      product = _useReducer2$.product,\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch({\n                  type: 'FETCH_REQUEST'\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get(\"/api/product/slug/\".concat(slug));\n\n              case 4:\n                result = _context.sent;\n                dispatch({\n                  type: 'FETCH_SUCCESS',\n                  payload: result.data\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                dispatch({\n                  type: 'FETCH_FAIL',\n                  payload: _context.t0.message\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchData();\n  }, [slug]); //end var and funcs\n\n  return loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, \"Loading...\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, error) : /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: product.image,\n    alt: product.name,\n    className: \"img-large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default ProductScreen;","map":{"version":3,"sources":["I:/node_projects/bmzn/frontend/src/ProductScreen.js"],"names":["React","useParams","useEffect","useReducer","axios","Row","Col","reducer","state","action","type","loading","product","payload","error","ProductScreen","params","slug","dispatch","fetchData","get","result","data","message","image","name"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useEffect, useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return { ...state, product: action.payload, loading: false };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction ProductScreen() {\r\n  //var and funcs\r\n  const params = useParams();\r\n  const { slug } = params;\r\n\r\n  const [{ loading, error, product }, dispatch] = useReducer(reducer, {\r\n    product: [],\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      dispatch({ type: 'FETCH_REQUEST' });\r\n      try {\r\n        const result = await axios.get(`/api/product/slug/${slug}`);\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\r\n      } catch (error) {\r\n        dispatch({ type: 'FETCH_FAIL', payload: error.message });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [slug]);\r\n\r\n  //end var and funcs\r\n\r\n  return loading ? (\r\n    <div>Loading...</div>\r\n  ) : error ? (\r\n    <div>{error}</div>\r\n  ) : (\r\n    <Row>\r\n      <Col md={6}>\r\n        <img src={product.image} alt={product.name} className=\"img-large\" />\r\n      </Col>\r\n      <Col md={3}></Col>\r\n      <Col md={3}></Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default ProductScreen;\r\n"]},"metadata":{},"sourceType":"module"}