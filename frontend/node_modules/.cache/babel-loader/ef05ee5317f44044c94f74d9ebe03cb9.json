{"ast":null,"code":"import _regeneratorRuntime from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\src\\\\HomeScreen.js\";\nimport React from 'react';\nimport { useState, useEffect, useRe } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case 'FETCH_SUCCESS':\n      return _objectSpread({}, state, {\n        products: action.payload,\n        loading: false\n      });\n\n    case 'FETCH_FAIL':\n      return _objectSpread({}, state, {\n        loading: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nfunction HomeScreen() {\n  var _this = this;\n\n  var _useReducer = useReducer(reducer, {\n    products: [],\n    loading: true,\n    error: ''\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      loading = _useReducer2$.loading,\n      error = _useReducer2$.error,\n      products = _useReducer2$.products,\n      dispatch = _useReducer2[1]; //const [produts, setProducts] = useState([]);\n\n\n  useEffect(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                dispatch({\n                  type: 'FETCH_REQUEST'\n                });\n                _context.prev = 1;\n                _context.next = 4;\n                return axios.get('/api/products');\n\n              case 4:\n                result = _context.sent;\n                dispatch({\n                  type: 'FETCH_SUCCESS',\n                  payload: result.data\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](1);\n                dispatch({\n                  type: 'FETCH_FAIL',\n                  payload: _context.t0.message\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 8]]);\n      }));\n\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"Featured Products\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, products.map(function (product) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product\",\n      key: product.slug,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/product/\".concat(product.slug),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: product.image,\n      alt: product.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product-info\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/product/\".concat(product.slug),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, product.name)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 24\n      }\n    }, \"XOF \", product.price)), /*#__PURE__*/React.createElement(\"button\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, \"Add to cart\")));\n  })));\n}\n\nexport default HomeScreen;","map":{"version":3,"sources":["I:/node_projects/bmzn/frontend/src/HomeScreen.js"],"names":["React","useState","useEffect","useRe","Link","axios","reducer","state","action","type","loading","products","payload","error","HomeScreen","useReducer","dispatch","fetchData","get","result","data","message","map","product","slug","image","name","price"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {useState, useEffect, useRe } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'FETCH_REQUEST':\r\n            return {...state, loading: true};\r\n        case 'FETCH_SUCCESS':\r\n            return {...state, products: action.payload, loading: false};\r\n        case 'FETCH_FAIL':\r\n            return {...state, loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction HomeScreen() {\r\n    const [{loading, error, products }, dispatch] = useReducer(reducer, {\r\n        products: [],\r\n        loading: true,\r\n        error: '',\r\n    });\r\n    //const [produts, setProducts] = useState([]);\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            dispatch({ type: 'FETCH_REQUEST'});\r\n            try {\r\n                const result = await axios.get('/api/products');\r\n                dispatch({ type: 'FETCH_SUCCESS', payload: result.data});\r\n            } catch (error) {\r\n                dispatch({ type: 'FETCH_FAIL', payload: error.message});\r\n            }\r\n            //setProducts(result.data);\r\n        };\r\n        fetchData();\r\n    }, []);\r\n  return (\r\n    <div>\r\n        <h1>Featured Products</h1>\r\n        <div className=\"products\">\r\n            {products.map(product => (\r\n                <div className=\"product\" key={product.slug}>\r\n                <Link to={`/product/${product.slug}`}>\r\n                    <img src={product.image} alt={product.name} />\r\n                </Link>\r\n                <div className=\"product-info\">\r\n                    <Link to={`/product/${product.slug}`}>\r\n                    <p>{product.name}</p>\r\n                    </Link>\r\n                    <p><strong>XOF {product.price}</strong></p>\r\n                    <button>Add to cart</button>\r\n                </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HomeScreen"]},"metadata":{},"sourceType":"module"}