{"ast":null,"code":"import _toConsumableArray from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\src\\\\SearchScreen.js\";\nimport axios from 'axios';\nimport React, { useEffect, useReducer, useState } from 'react';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { Helmet } from 'react-helmet-async';\nimport { useLocation, useNavigate, Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport Rating from './Rating';\nimport LoadingBox from './LoadingBox';\nimport MessageBox from './MessageBox';\nimport Button from 'react-bootstrap/Button';\nimport Product from './Product';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { getError } from './utils';\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case 'FETCH_SUCCESS':\n      return _objectSpread({}, state, {\n        products: action.payload.products,\n        page: action.payload.page,\n        pages: action.payload.pages,\n        countProducts: action.payload.countProducts,\n        loading: false\n      });\n\n    case 'FETCH_FAIL':\n      return _objectSpread({}, state, {\n        loading: false,\n        error: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar prices = [{\n  name: '$1 to $50',\n  value: '1-50'\n}, {\n  name: '$51 to $200',\n  value: '51-200'\n}, {\n  name: '$201 to $1000',\n  value: '201-1000'\n}];\nexport var ratings = [{\n  name: '4stars & up',\n  rating: '4'\n}, {\n  name: '3stars & up',\n  rating: '3'\n}, {\n  name: '2stars & up',\n  rating: '2'\n}, {\n  name: '1star & up',\n  rating: '1'\n}];\n\nfunction SearchScreen() {\n  var _this = this;\n\n  var navigate = useNavigate();\n\n  var _useLocation = useLocation(),\n      search = _useLocation.search;\n\n  var sp = new URLSearchParams(search);\n  var category = sp.get('category') || 'all';\n  var query = sp.get('query') || 'all';\n  var price = sp.get('price') || 'all';\n  var rating = sp.get('rating') || 'all';\n  var order = sp.get('order') || 'newest';\n  var page = sp.get('page') || 1;\n\n  var _useReducer = useReducer(reducer, {\n    loading: true,\n    error: ''\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      loading = _useReducer2$.loading,\n      error = _useReducer2$.error,\n      products = _useReducer2$.products,\n      pages = _useReducer2$.pages,\n      countProducts = _useReducer2$.countProducts,\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    var fetchData = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _yield$axios$get, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get(\"/api/products/search?page=\".concat(page, \"&query=\").concat(query, \"&category=\").concat(category, \"&price=\").concat(price, \"&order=\").concat(order, \"&rating=\").concat(rating));\n\n              case 3:\n                _yield$axios$get = _context.sent;\n                data = _yield$axios$get.data;\n                dispatch({\n                  type: 'FETCH_SUCCESS',\n                  payload: data\n                });\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                dispatch({\n                  type: 'FETCH_FAIL',\n                  payload: getError(error)\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 8]]);\n      }));\n\n      return function fetchData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    fetchData();\n  }, [page, query, category, price, order, error, rating]);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      categories = _useState2[0],\n      setCategories = _useState2[1];\n\n  useEffect(function () {\n    var fetchCategories = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _yield$axios$get2, data;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axios.get(\"/api/products/categories\");\n\n              case 3:\n                _yield$axios$get2 = _context2.sent;\n                data = _yield$axios$get2.data;\n                setCategories(data);\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](0);\n                toast.error(getError(_context2.t0));\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 8]]);\n      }));\n\n      return function fetchCategories() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    fetchCategories();\n  }, [dispatch]);\n\n  var getFilterUrl = function getFilterUrl(filter) {\n    var filterPage = filter.page || page;\n    var filterCategory = filter.category || category;\n    var filterQuery = filter.query || query;\n    var filterRating = filter.rating || rating;\n    var filterPrice = filter.price || price;\n    var sortOrder = filter.order || order;\n    return \"/search?page=\".concat(filterPage, \"&query=\").concat(filterQuery, \"&category=\").concat(filterCategory, \"&price=\").concat(filterPrice, \"&order=\").concat(sortOrder, \"&rating=\").concat(filterRating);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, \"Search Products\")), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, \"Department\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: 'all' === category ? 'text-bold' : '',\n    to: getFilterUrl({\n      category: 'all'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, \"Any\")), categories.map(function (c) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: c,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: c === category ? 'text-bold' : '',\n      to: getFilterUrl({\n        category: c\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }, c));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: 'all' === price ? 'text-bold' : '',\n    to: getFilterUrl({\n      price: 'all'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, \"Any\")), prices.map(function (p) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: p.value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: p.value === price ? 'text-bold' : '',\n      to: getFilterUrl({\n        price: p.value\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 19\n      }\n    }, p.name));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, \"Avg. Customer Review\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, ratings.map(function (r) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: r.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"\".concat(r.rating) === \"\".concat(rating) ? 'text-bold' : '',\n      to: getFilterUrl({\n        rating: r.rating\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Rating, {\n      caption: ' & up',\n      rating: r.rating,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }\n    })));\n  }), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: rating === 'all' ? 'text-bold' : '',\n    to: getFilterUrl({\n      rating: 'all'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Rating, {\n    caption: ' & up',\n    rating: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  })))))), /*#__PURE__*/React.createElement(Col, {\n    md: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }) : error ? /*#__PURE__*/React.createElement(MessageBox, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, error) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 19\n    }\n  }, countProducts === 0 ? 'No' : countProducts, \" Results\", query !== 'all' && ' : ' + query, category !== 'all' && ' : ' + category, price !== 'all' && ' : Price' + price, rating !== 'all' && ' : Rating' + rating + ' & up', query !== 'all' || category !== 'all' || price !== 'all' || rating !== 'all' ? /*#__PURE__*/React.createElement(Button, {\n    variant: \"light\",\n    onClick: function onClick() {\n      return navigate('/search');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-times-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 25\n    }\n  })) : null))))), /*#__PURE__*/React.createElement(Col, {\n    className: \"text-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, \"Sort by\", ' ', /*#__PURE__*/React.createElement(\"select\", {\n    value: order,\n    onChange: function onChange(e) {\n      navigate(getFilterUrl({\n        order: e.target.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"newest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, \"Newest Arrivals\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"lowest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  }, \"Price: Low to High\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"highest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, \"Price: High to Low\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"toprated\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }\n  }, \"Avg. Customer Reviews\")))), products.length === 0 && /*#__PURE__*/React.createElement(MessageBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 33\n    }\n  }, \"No Product Found\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }\n  }, products.map(function (product) {\n    return /*#__PURE__*/React.createElement(Col, {\n      sm: 6,\n      lg: 4,\n      className: \"mb-3\",\n      key: product._id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Product, {\n      product: product,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 13\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }\n  }, _toConsumableArray(Array(pages).keys()).map(function (x) {\n    return /*#__PURE__*/React.createElement(LinkContainer, {\n      key: x + 1,\n      className: \"mx-1\",\n      to: getFilterUrl({\n        page: x + 1\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: Number(page) === x + 1 ? 'text-bold' : '',\n      variant: \"light\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 13\n      }\n    }, x + 1));\n  })));\n}\n\nexport default SearchScreen;","map":{"version":3,"sources":["I:/node_projects/bmzn/frontend/src/SearchScreen.js"],"names":["axios","React","useEffect","useReducer","useState","Row","Col","Helmet","useLocation","useNavigate","Link","toast","Rating","LoadingBox","MessageBox","Button","Product","LinkContainer","getError","reducer","state","action","type","loading","products","payload","page","pages","countProducts","error","prices","name","value","ratings","rating","SearchScreen","navigate","search","sp","URLSearchParams","category","get","query","price","order","dispatch","fetchData","data","categories","setCategories","fetchCategories","getFilterUrl","filter","filterPage","filterCategory","filterQuery","filterRating","filterPrice","sortOrder","map","c","p","r","e","target","length","product","_id","Array","keys","x","Number"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useReducer, useState } from 'react';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useLocation, useNavigate, Link } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport Rating from './Rating';\r\nimport LoadingBox from './LoadingBox';\r\nimport MessageBox from './MessageBox';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Product from './Product';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { getError } from './utils';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        products: action.payload.products,\r\n        page: action.payload.page,\r\n        pages: action.payload.pages,\r\n        countProducts: action.payload.countProducts,\r\n        loading: false,\r\n      };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst prices = [\r\n  {\r\n    name: '$1 to $50',\r\n    value: '1-50',\r\n  },\r\n  {\r\n    name: '$51 to $200',\r\n    value: '51-200',\r\n  },\r\n  {\r\n    name: '$201 to $1000',\r\n    value: '201-1000',\r\n  },\r\n];\r\nexport const ratings = [\r\n  {\r\n    name: '4stars & up',\r\n    rating: '4',\r\n  },\r\n  {\r\n    name: '3stars & up',\r\n    rating: '3',\r\n  },\r\n  {\r\n    name: '2stars & up',\r\n    rating: '2',\r\n  },\r\n  {\r\n    name: '1star & up',\r\n    rating: '1',\r\n  },\r\n];\r\n\r\nfunction SearchScreen() {\r\n  const navigate = useNavigate();\r\n  const { search } = useLocation();\r\n  const sp = new URLSearchParams(search);\r\n  const category = sp.get('category') || 'all';\r\n  const query = sp.get('query') || 'all';\r\n  const price = sp.get('price') || 'all';\r\n  const rating = sp.get('rating') || 'all';\r\n  const order = sp.get('order') || 'newest';\r\n  const page = sp.get('page') || 1;\r\n\r\n  const [\r\n    { loading, error, products, pages, countProducts },\r\n    dispatch,\r\n  ] = useReducer(reducer, {\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data } = await axios.get(\r\n          `/api/products/search?page=${page}&query=${query}&category=${category}&price=${price}&order=${order}&rating=${rating}`\r\n        );\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: 'FETCH_FAIL',\r\n          payload: getError(error),\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [page, query, category, price, order, error, rating]);\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const { data } = await axios.get(`/api/products/categories`);\r\n        setCategories(data);\r\n      } catch (err) {\r\n        toast.error(getError(err));\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, [dispatch]);\r\n\r\n  const getFilterUrl = (filter) => {\r\n    const filterPage = filter.page || page;\r\n    const filterCategory = filter.category || category;\r\n    const filterQuery = filter.query || query;\r\n    const filterRating = filter.rating || rating;\r\n    const filterPrice = filter.price || price;\r\n    const sortOrder = filter.order || order;\r\n    return `/search?page=${filterPage}&query=${filterQuery}&category=${filterCategory}&price=${filterPrice}&order=${sortOrder}&rating=${filterRating}`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>Search Products</title>\r\n      </Helmet>\r\n      <Row>\r\n        <Col md={3}>\r\n          <h3>Department</h3>\r\n          <div>\r\n            <ul>\r\n              <li>\r\n                <Link\r\n                  className={'all' === category ? 'text-bold' : ''}\r\n                  to={getFilterUrl({ category: 'all' })}\r\n                >\r\n                  Any\r\n                </Link>\r\n              </li>\r\n              {categories.map((c) => (\r\n                <li key={c}>\r\n                  <Link\r\n                    className={c === category ? 'text-bold' : ''}\r\n                    to={getFilterUrl({ category: c })}\r\n                  >\r\n                    {c}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h3>Price</h3>\r\n            <ul>\r\n              <li>\r\n                <Link\r\n                  className={'all' === price ? 'text-bold' : ''}\r\n                  to={getFilterUrl({ price: 'all' })}\r\n                >\r\n                  Any\r\n                </Link>\r\n              </li>\r\n              {prices.map((p) => (\r\n                <li key={p.value}>\r\n                  <Link\r\n                    className={p.value === price ? 'text-bold' : ''}\r\n                    to={getFilterUrl({ price: p.value })}\r\n                  >\r\n                    {p.name}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h3>Avg. Customer Review</h3>\r\n            <ul>\r\n              {ratings.map((r) => (\r\n                <li key={r.name}>\r\n                  <Link\r\n                    className={`${r.rating}` === `${rating}` ? 'text-bold' : ''}\r\n                    to={getFilterUrl({ rating: r.rating })}\r\n                  >\r\n                    <Rating caption={' & up'} rating={r.rating}></Rating>\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n              <li>\r\n                <Link\r\n                  className={rating === 'all' ? 'text-bold' : ''}\r\n                  to={getFilterUrl({ rating: 'all' })}\r\n                >\r\n                  <Rating caption={' & up'} rating={0}></Rating>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </Col>\r\n        <Col md={9}>\r\n          {loading ? (\r\n            <LoadingBox></LoadingBox>\r\n          ) : error ? (\r\n            <MessageBox variant=\"danger\">{error}</MessageBox>\r\n          ) : (\r\n            <>\r\n              <Row>\r\n                <Col>\r\n                  <div>\r\n                    {countProducts === 0 ? 'No' : countProducts} Results\r\n                    {query !== 'all' && ' : ' + query}\r\n                    {category !== 'all' && ' : ' + category}\r\n                    {price !== 'all' && ' : Price' + price}\r\n                    {rating !== 'all' && ' : Rating' + rating + ' & up'}\r\n                    {query !== 'all' ||\r\n                    category !== 'all' ||\r\n                    price !== 'all' ||\r\n                    rating !== 'all' ? (\r\n                      <Button\r\n                        variant=\"light\"\r\n                        onClick={() => navigate('/search')}\r\n                      >\r\n                        <i className=\"fas fa-times-circle\"></i>\r\n                      </Button>\r\n                    ) : null}\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </>\r\n          )}\r\n        </Col>\r\n        <Col className=\"text-end\">\r\n          Sort by{' '}\r\n          <select\r\n            value={order}\r\n            onChange={(e) => {\r\n              navigate(getFilterUrl({ order: e.target.value }));\r\n            }}\r\n          >\r\n            <option value=\"newest\">Newest Arrivals</option>\r\n            <option value=\"lowest\">Price: Low to High</option>\r\n            <option value=\"highest\">Price: High to Low</option>\r\n            <option value=\"toprated\">Avg. Customer Reviews</option>\r\n          </select>\r\n        </Col>\r\n      </Row>\r\n      {products.length === 0 && <MessageBox>No Product Found</MessageBox>}\r\n      <Row>\r\n        {products.map((product) => (\r\n          <Col sm={6} lg={4} className=\"mb-3\" key={product._id}>\r\n            <Product product={product}></Product>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n      <div>\r\n        {[...Array(pages).keys()].map((x) => (\r\n          <LinkContainer\r\n            key={x + 1}\r\n            className=\"mx-1\"\r\n            to={getFilterUrl({ page: x + 1 })}\r\n          >\r\n            <Button\r\n              className={Number(page) === x + 1 ? 'text-bold' : ''}\r\n              variant=\"light\"\r\n            >\r\n              {x + 1}\r\n            </Button>\r\n          </LinkContainer>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchScreen;\r\n"]},"metadata":{},"sourceType":"module"}