{"ast":null,"code":"import _regeneratorRuntime from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"I:\\\\node_projects\\\\bmzn\\\\frontend\\\\src\\\\SellerSignupScreen.js\";\nimport axios from 'axios';\nimport React, { useContext, useReducer, useState } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { Helmet } from 'react-helmet-async';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Store } from './Store';\nimport { getError } from './utils';\nimport LoadingBox from './LoadingBox';\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case 'UPLOAD_REQUEST':\n      return _objectSpread({}, state, {\n        loadingUpload: true,\n        errorUpload: ''\n      });\n\n    case 'UPLOAD_SUCCESS':\n      return _objectSpread({}, state, {\n        loadingUpload: false,\n        errorUpload: ''\n      });\n\n    case 'UPLOAD_FAIL':\n      return _objectSpread({}, state, {\n        loadingUpload: false,\n        errorUpload: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nfunction SellerSignupScreen() {\n  var navigate = useNavigate();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      ifu = _useState2[0],\n      setIfu = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      photoID = _useState4[0],\n      setPhotoID = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sellerName = _useState6[0],\n      setSellerName = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      logo = _useState8[0],\n      setLogo = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      description = _useState10[0],\n      setDescription = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      password = _useState12[0],\n      setPassword = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      confirmPassword = _useState14[0],\n      setConfirmPassword = _useState14[1];\n\n  var _useContext = useContext(Store),\n      ctxDispatch = _useContext.dispatch;\n\n  var _useReducer = useReducer(reducer, {}),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      loadingUpload = _useReducer2[0].loadingUpload,\n      dispatch = _useReducer2[1];\n\n  var submitHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var _yield$axios$post, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(password !== confirmPassword)) {\n                _context.next = 4;\n                break;\n              }\n\n              toast.error('Passwords do not match');\n              return _context.abrupt(\"return\");\n\n            case 4:\n              _context.prev = 4;\n              _context.next = 7;\n              return axios.post('/api/users/seller/signup', {\n                ifu: ifu,\n                photoID: photoID,\n                sellerName: sellerName,\n                logo: logo,\n                description: description,\n                password: password\n              });\n\n            case 7:\n              _yield$axios$post = _context.sent;\n              data = _yield$axios$post.data;\n              ctxDispatch({\n                type: 'USER_SIGNIN',\n                payload: data\n              });\n              localStorage.setItem('userInfo', JSON.stringify(data));\n              navigate('/');\n              console.log(data);\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](4);\n              toast.error(getError(_context.t0));\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[4, 15]]);\n    }));\n\n    return function submitHandler(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var uploadFileHandlerphotoID = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var file, bodyFormData, _yield$axios$post2, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              file = e.target.files[0];\n              bodyFormData = new FormData();\n              bodyFormData.append('file', file);\n              _context2.prev = 3;\n              dispatch({\n                type: 'UPLOAD_REQUEST'\n              });\n              _context2.next = 7;\n              return axios.post('/api/upload/seller', bodyFormData, {\n                headers: {\n                  'Content-Type': 'multipart/form-data'\n                }\n              });\n\n            case 7:\n              _yield$axios$post2 = _context2.sent;\n              data = _yield$axios$post2.data;\n              dispatch({\n                type: 'UPLOAD_SUCCESS'\n              });\n              setPhotoID(data.secure_url);\n              toast.success('Image uploaded successfully. Click update to apply');\n              _context2.next = 18;\n              break;\n\n            case 14:\n              _context2.prev = 14;\n              _context2.t0 = _context2[\"catch\"](3);\n              toast.error(getError(_context2.t0));\n              dispatch({\n                type: 'UPLOAD_FAIL'\n              });\n\n            case 18:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[3, 14]]);\n    }));\n\n    return function uploadFileHandlerphotoID(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var uploadFileHandlerLogo = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var file, bodyFormData, _yield$axios$post3, data;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              file = e.target.files[0];\n              bodyFormData = new FormData();\n              bodyFormData.append('file', file);\n              _context3.prev = 3;\n              dispatch({\n                type: 'UPLOAD_REQUEST'\n              });\n              _context3.next = 7;\n              return axios.post('/api/upload/seller', bodyFormData, {\n                headers: {\n                  'Content-Type': 'multipart/form-data'\n                }\n              });\n\n            case 7:\n              _yield$axios$post3 = _context3.sent;\n              data = _yield$axios$post3.data;\n              dispatch({\n                type: 'UPLOAD_SUCCESS'\n              });\n              setLogo(data.secure_url);\n              toast.success('Image uploaded successfully. Click update to apply');\n              _context3.next = 18;\n              break;\n\n            case 14:\n              _context3.prev = 14;\n              _context3.t0 = _context3[\"catch\"](3);\n              toast.error(getError(_context3.t0));\n              dispatch({\n                type: 'UPLOAD_FAIL'\n              });\n\n            case 18:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[3, 14]]);\n    }));\n\n    return function uploadFileHandlerLogo(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    className: \"small-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"Business Account Sign Up\")), loadingUpload && /*#__PURE__*/React.createElement(LoadingBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"ifu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, \"IFU\"), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    onChange: function onChange(e) {\n      return setIfu(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"photoID\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, \"Photo ID\"), /*#__PURE__*/React.createElement(Form.Control, {\n    value: photoID,\n    onChange: function onChange(e) {\n      return setPhotoID(e.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"imageFile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"Upload Photo ID\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"file\",\n    onChange: uploadFileHandlerphotoID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"sellerName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, \"Seller Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    onChange: function onChange(e) {\n      return setSellerName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, \"Logo\"), /*#__PURE__*/React.createElement(Form.Control, {\n    value: logo,\n    onChange: function onChange(e) {\n      return setLogo(e.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"logoFile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"Upload Logo\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"file\",\n    onChange: uploadFileHandlerLogo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    onChange: function onChange(e) {\n      return setDescription(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    required: true,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    className: \"mb-3\",\n    controlId: \"confirmpassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    required: true,\n    onChange: function onChange(e) {\n      return setConfirmPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, \"Create a business account\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, \"Already have an business account?\", ' ', /*#__PURE__*/React.createElement(Link, {\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, \"Sign-In\")))));\n}\n\nexport default SellerSignupScreen;","map":{"version":3,"sources":["I:/node_projects/bmzn/frontend/src/SellerSignupScreen.js"],"names":["axios","React","useContext","useReducer","useState","Container","Button","Form","Helmet","Link","useNavigate","toast","Store","getError","LoadingBox","reducer","state","action","type","loadingUpload","errorUpload","payload","SellerSignupScreen","navigate","ifu","setIfu","photoID","setPhotoID","sellerName","setSellerName","logo","setLogo","description","setDescription","password","setPassword","confirmPassword","setConfirmPassword","ctxDispatch","dispatch","submitHandler","e","preventDefault","error","post","data","localStorage","setItem","JSON","stringify","console","log","uploadFileHandlerphotoID","file","target","files","bodyFormData","FormData","append","headers","secure_url","success","uploadFileHandlerLogo","value"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { useContext, useReducer, useState } from 'react';\r\nimport Container from 'react-bootstrap/Container';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport { Store } from './Store';\r\nimport { getError } from './utils';\r\nimport LoadingBox from './LoadingBox';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'UPLOAD_REQUEST':\r\n      return { ...state, loadingUpload: true, errorUpload: '' };\r\n    case 'UPLOAD_SUCCESS':\r\n      return { ...state, loadingUpload: false, errorUpload: '' };\r\n    case 'UPLOAD_FAIL':\r\n      return { ...state, loadingUpload: false, errorUpload: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction SellerSignupScreen() {\r\n  const navigate = useNavigate();\r\n\r\n  const [ifu, setIfu] = useState('');\r\n  const [photoID, setPhotoID] = useState('');\r\n  const [sellerName, setSellerName] = useState('');\r\n  const [logo, setLogo] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n  const { dispatch: ctxDispatch } = useContext(Store);\r\n  const [{ loadingUpload }, dispatch] = useReducer(reducer, {});\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n    if (password !== confirmPassword) {\r\n      toast.error('Passwords do not match');\r\n      return;\r\n    }\r\n    try {\r\n      const { data } = await axios.post('/api/users/seller/signup', {\r\n        ifu,\r\n        photoID,\r\n        sellerName,\r\n        logo,\r\n        description,\r\n        password,\r\n      });\r\n      ctxDispatch({ type: 'USER_SIGNIN', payload: data });\r\n      localStorage.setItem('userInfo', JSON.stringify(data));\r\n      navigate('/');\r\n      console.log(data);\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n    }\r\n  };\r\n\r\n  const uploadFileHandlerphotoID = async (e) => {\r\n    const file = e.target.files[0];\r\n    const bodyFormData = new FormData();\r\n    bodyFormData.append('file', file);\r\n    try {\r\n      dispatch({ type: 'UPLOAD_REQUEST' });\r\n      const { data } = await axios.post('/api/upload/seller', bodyFormData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      dispatch({ type: 'UPLOAD_SUCCESS' });\r\n      setPhotoID(data.secure_url);\r\n      toast.success('Image uploaded successfully. Click update to apply');\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n      dispatch({ type: 'UPLOAD_FAIL' });\r\n    }\r\n  };\r\n  const uploadFileHandlerLogo = async (e) => {\r\n    const file = e.target.files[0];\r\n    const bodyFormData = new FormData();\r\n    bodyFormData.append('file', file);\r\n    try {\r\n      dispatch({ type: 'UPLOAD_REQUEST' });\r\n      const { data } = await axios.post('/api/upload/seller', bodyFormData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n      dispatch({ type: 'UPLOAD_SUCCESS' });\r\n      setLogo(data.secure_url);\r\n      toast.success('Image uploaded successfully. Click update to apply');\r\n    } catch (err) {\r\n      toast.error(getError(err));\r\n      dispatch({ type: 'UPLOAD_FAIL' });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container className=\"small-container\">\r\n        <Helmet>\r\n          <title>Business Account Sign Up</title>\r\n        </Helmet>\r\n        {loadingUpload && <LoadingBox></LoadingBox>}\r\n        <h1 className=\"my-3\">Sign Up</h1>\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group className=\"mb-3\" controlId=\"ifu\">\r\n            <Form.Label>IFU</Form.Label>\r\n            <Form.Control required onChange={(e) => setIfu(e.target.value)} />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"photoID\">\r\n            <Form.Label>Photo ID</Form.Label>\r\n            <Form.Control\r\n              value={photoID}\r\n              onChange={(e) => setPhotoID(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"imageFile\">\r\n            <Form.Label>Upload Photo ID</Form.Label>\r\n            <Form.Control type=\"file\" onChange={uploadFileHandlerphotoID} />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"sellerName\">\r\n            <Form.Label>Seller Name</Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={(e) => setSellerName(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"logo\">\r\n            <Form.Label>Logo</Form.Label>\r\n            <Form.Control\r\n              value={logo}\r\n              onChange={(e) => setLogo(e.target.value)}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"logoFile\">\r\n            <Form.Label>Upload Logo</Form.Label>\r\n            <Form.Control type=\"file\" onChange={uploadFileHandlerLogo} />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"description\">\r\n            <Form.Label>Description</Form.Label>\r\n            <Form.Control\r\n              required\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"password\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              required\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group className=\"mb-3\" controlId=\"confirmpassword\">\r\n            <Form.Label>Confirm Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              required\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <div className=\"mb-3\">\r\n            <Button type=\"submit\">Create a business account</Button>\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            Already have an business account?{' '}\r\n            <Link to={`/signin`}>Sign-In</Link>\r\n          </div>\r\n        </Form>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SellerSignupScreen;\r\n"]},"metadata":{},"sourceType":"module"}